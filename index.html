<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Turn any YouTube video into a clean, structured article. Export to Obsidian." />
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“–</text></svg>" />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Newsreader:ital,wght@0,400;0,600;1,400&family=JetBrains+Mono:wght@400&display=swap"
    rel="stylesheet" />
  <title>YouTube â†’ Article</title>
  <link rel="stylesheet" href="/src/style.css" />
</head>

<body>

  <!-- HEADER -->
  <header class="header">
    <a href="#" class="logo" id="nav-home">ğŸ“– ytâ†’article</a>
    <button class="icon-btn" id="btn-settings" title="API Settings">âš™ï¸</button>
  </header>

  <!-- MAIN INPUT -->
  <main class="container" id="section-input">
    <div class="input-area">
      <h1>Paste a YouTube link,<br />read it as an article.</h1>
      <div class="url-row">
        <input type="url" id="url-input" placeholder="https://www.youtube.com/watch?v=..." autocomplete="off" />
        <button class="btn-convert" id="btn-convert">Convert â†’</button>
      </div>
      <p class="hint">Works with any video that has captions or auto-generated subtitles.</p>
    </div>
  </main>

  <!-- LOADING -->
  <section class="container" id="section-loading" style="display:none;">
    <div class="loading-area">
      <div class="spinner"></div>
      <p id="loading-status">Fetching transcriptâ€¦</p>
    </div>
  </section>

  <!-- ARTICLE -->
  <section id="section-article" style="display:none;">
    <div class="article-header">
      <div class="container">
        <div class="video-meta" id="video-meta"></div>
        <div class="article-actions">
          <button class="btn-action" id="btn-copy-md" title="Copy Markdown">ğŸ“‹ Copy Markdown</button>
          <button class="btn-action" id="btn-download-md" title="Download .md file">â¬‡ï¸ Download .md</button>
          <button class="btn-action" id="btn-back">â† New Video</button>
        </div>
      </div>
    </div>
    <article class="article-body container" id="article-body"></article>
  </section>

  <!-- SETTINGS MODAL -->
  <div class="modal-overlay" id="settings-modal" style="display:none;">
    <div class="modal">
      <div class="modal-top">
        <h2>API Settings</h2>
        <button class="icon-btn" id="btn-close-settings">âœ•</button>
      </div>
      <p class="modal-desc">Keys stay in your browser only. Never sent anywhere except the respective APIs.</p>
      <div class="field">
        <label>Transcript Source</label>
        <input type="password" id="key-supadata" placeholder="sd_..." />
        <small><a href="https://dash.supadata.ai" target="_blank">Supadata â€” get a free key â†’</a></small>
      </div>
      <div class="field">
        <label>AI Provider</label>
        <select id="provider-select">
          <option value="gemini">Google AI Studio (Gemini 2.5 Flash)</option>
          <option value="openrouter">OpenRouter (Gemma 3 27B free)</option>
        </select>
      </div>
      <div class="field">
        <label>Google AI Studio Key</label>
        <input type="password" id="key-gemini" placeholder="AIza..." />
        <small><a href="https://aistudio.google.com/apikey" target="_blank">Get a free key â†’</a></small>
      </div>
      <div class="field">
        <label>OpenRouter Key</label>
        <input type="password" id="key-openrouter" placeholder="sk-or-..." />
        <small><a href="https://openrouter.ai/keys" target="_blank">Get a free key â†’</a></small>
      </div>
      <button class="btn-save" id="btn-save-keys">Save Keys</button>
    </div>
  </div>

  <!-- TOAST -->
  <div class="toast" id="toast" style="display:none;"></div>

  <script type="module" src="/src/main.js"></script>
</body>

</html>